<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Insert Admin Account</title>
    <script type="module">
        // Import Firebase SDK modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

        // Import the Firebase config from config.js
        import firebaseConfig from "./config.js";  // Path to your config.js file

        // Initialize Firebase with the imported config
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Function to insert an admin account
        async function insertAdminAccount(email, password) {
            try {
                // Add admin to the 'admins' collection
                const adminRef = collection(db, 'admins');
                const docRef = await addDoc(adminRef, {
                    email: email,
                    password: password, // In a real application, you should hash the password before storing it
                    role: 'admin',
                    createdAt: new Date()
                });
                console.log("Admin account created with ID: ", docRef.id);
            } catch (e) {
                console.error("Error adding admin account: ", e);
            }
        }

        // Insert admin account (replace with actual values)
        insertAdminAccount("stagehub.op@gmail.com", "Securyadmin");
    </script>
</head>

<body>
    <h1>Insert Admin Account</h1>
    <p>Check the console for confirmation after inserting an admin account.</p>
</body>

</html>